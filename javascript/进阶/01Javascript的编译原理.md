### 一：作用域是什么
能够储存变量当中的值，并且能在之后对这个值进行访问或修改。

但是将变量引入程序会引起几个很有意思的问题，也正是我们将要讨论的：这些变量住在哪里？换句话说，它们储存在哪里？最重要的是，程序需要时如何找到它们？

这些问题说明需要一套设计良好的规则来存储变量，并且之后可以方便地找到这些变量。这套规则被称为作用域。

### 二：编译原理
尽管通常将JavaScript归类为“动态”或“解释执行”语言，但事实上它是一门编译语言。传统的编译语言不同，**它不是提前编译的**，编译结果也不能在分布式系统中进行移植。

在传统编译语言的流程中，程序中的一段源代码在执行之前会经历**三个步骤**，统称为“编译”。
1. **分词/词法分析**（Tokenizing/Lexing）
  > 这个过程会将由字符组成的字符串分解成（对编程语言来说）有意义的代码块，这些代码块被称为词法单元（token）。例如，考虑程序var a= 2;。这段程序通常会被分解成为下面这些词法单元：var、a、=、2、;。空格是否会被当作词法单元，取决于空格在这门语言中是否具有意义。
2. **解析/语法分析**（Parsing）
  > 这个过程是将词法单元流（数组）转换成一个由元素逐级嵌套所组成的代表了程序语法结构的树。这个树被称为**抽象语法树**（AbstractSyntax Tree，AST）。
  > 
  > var a = 2;的抽象语法树中可能会有一个叫作VariableDeclaration的顶级节点，接下来是一个叫作Identifier（它的值是a）的子节点，以及一个叫作AssignmentExpression的子节点。AssignmentExpression节点有一个叫作NumericLiteral（它的值是2）的子节点。
3. **代码生成**
  > 将AST转换为可执行代码的过程称被称为代码生成。这个过程与语言、目标平台等息息相关。

**抛开具体细节，简单来说就是有某种方法可以将var a = 2;的AST转化为一组机器指令，用来创建一个叫作a的变量（包括分配内存等），并将一个值储存在a中**。

比起那些编译过程只有三个步骤的语言的编译器，JavaScript引擎要复杂得多。例如，在语法分析和代码生成阶段有特定的步骤来对运行性能进行优化，包括对冗余元素进行优化等。
1. JavaScript引擎不会有大量的（像其他语言编译器那么多的）时间用来进行优化，因为与其他语言不同，**JavaScript的编译过程不是发生在构建之前的**。
2. 于JavaScript来说，**大部分情况下编译发生在代码执行前的几微秒（甚至更短！）的时间内**。在我们所要讨论的作用域背后，JavaScript引擎用尽了各种办法（比如JIT，可以延迟编译甚至实施重编译）来保证性能最佳。

简单地说，**任何JavaScript代码片段在执行前都要进行编译（通常就在执行前）**。因此，JavaScript编译器首先会对var a = 2;这段程序进行编译，然后做好执行它的准备，并且通常马上就会执行它。
