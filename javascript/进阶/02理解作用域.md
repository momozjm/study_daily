### 一：程序处理过程中的角色
1. **引擎**：从头到尾负责整个JavaScript程序的编译及执行过程。
2. **编译器**：引擎的好朋友之一，负责语法分析及代码生成等脏活累活（详见前一节的内容）。
3. **作用域**：引擎的另一位好朋友，负责收集并维护由所有声明的标识符（变量）组成的一系列查询，并实施一套非常严格的规则，确定当前执行的代码对这些标识符的访问权限。

为了能够完全理解JavaScript的工作原理，你需要开始像引擎（和它的朋友们）一样思考，从它们的角度提出问题，并从它们的角度回答这些问题。

### 二：运行时的对话
我们将var a = 2;分解，看看引擎和它的朋友们是如何协同工作的。

变量的赋值操作会执行两个动作，首先编译器会在当前作用域中声明一个变量（如果之前没有声明过），然后在运行时引擎会在作用域中查找该变量，如果能够找到就会对它赋值。

### 三：作用域嵌套
遍历嵌套作用域链的规则很简单：引擎从当前的执行作用域开始查找变量，如果找不到，就向上一级继续查找。当抵达最外层的全局作用域时，无论找到还是没找到，查找过程都会停止。