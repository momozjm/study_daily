### LCP
Largest Contentful Paint (LCP) 用于衡量标准报告视口内可见的最大内容元素的渲染时间。为了提供良好的用户体验，网站应努力在开始加载页面的前 2.5 秒内进行 最大内容渲染 。

### LCP 考虑哪些元素
LCP 目前并不会计算所有元素，因为这样会使这个指标变得非常复杂，它现在只关注下面的元素：
- \<img> 元素
- \<image>元素内的\<svg>元素
- \<video> 元素
- 通过 url() 函数加载背景图片的元素
- 包含文本节点或其他内联文本元素子级的块级元素。

### 如何计算 LCP ?
页面上最大的元素即绘制面积最大的元素，所谓绘制面积可以理解为每个元素在屏幕上的 “占地面积”，如果元素延伸到屏幕外，或者元素被裁切了一部分，被裁切的部分不算入在内，只有**真正显示在屏幕里的才算数**。

图片元素的面积计算方式稍微有点不同，因为可以通过 CSS 将图片扩大或缩小显示，也就是说，图片有两个面积：“渲染面积”与“真实面积”。在 LCP 的计算中，**图片的绘制面积将获取较小的数值**。例如：当“渲染面积”小于“真实面积”时，“绘制面积”为“渲染面积”，反之亦然。

页面在加载过程中，是线性的，元素是一个一个渲染到屏幕上的，而不是一瞬间全渲染到屏幕上，**所以“渲染面积”最大的元素随时在发生变化**。

如果元素被删除，LCP算法将不再考虑该元素

该过程将持续到用户第一次滚动页面或第一次用户输入（鼠标点击，键盘按键等），也就是说，**一旦用户与页面开始产生交互，则停止报告新的性能指标**。

### 改善 LCP
LCP较差的最常见原因是：

- 服务器响应时间慢

- 阻断渲染的 Javascript 和 CSS

- 资源加载时间慢

- 客户端渲染

所以我们从上面的角度去考虑改善 LCP：
#### 1.优化服务器
#### 2.优化阻断渲染的资源:
JavaScript 和 CSS 都是会阻断页面渲染的资源，需要尽可能的对 CSS 和 JavaScript 文件进行压缩、延迟加载首屏无需使用的 JavaScript、内联关键的 CSS 等来减小阻断时间。
#### 3.优化资源加载时间
#### 4.服务端渲染
